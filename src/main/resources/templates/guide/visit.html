<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>찾아오시는 길 | 더조은병원</title>

    <!-- 카카오지도 SDK -->
    <!-- autoload=false 설정 + libraries=services 추가 -->
    <!-- HEAD 안의 SDK 로드 -->
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=a75b3ebaf9ca88626fb36010800557aa&autoload=false&libraries=services"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fafafa;
            color: #333;
        }

        .container {
            max-width: 1080px;
            margin: 40px auto;
            padding: 5rem 0;
        }

        .container h1 {
            color: var(--hospital-primary);
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 2rem;
            letter-spacing: -1px;
        }

        #map {
            width: 100%;
            height: 500px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }

        table {
            margin-top: 16px;
            width: 100%;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid #ccc;
        }

        th, td {
            padding: 10px;
            text-align: center;
        }

        .info-box {
            background-color: #003366;
            color: white;
            padding: 30px 20px;
            border-radius: 6px;
            text-align: center;
        }

        .info-box h2 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .info-box .highlight {
            font-size: 24px;
            font-weight: bold;
            margin: 5px 0;
        }

        .info-links {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .info-links a {
            background-color: #e0e0e0;
            padding: 8px 14px;
            border-radius: 4px;
            text-decoration: none;
            color: #003366;
            font-weight: 500;
        }

        .info-links a:hover {
            background-color: #c62828;
            color: white;
        }
        /* 탭 스타일 */
        .transport-tab {
            display: flex;
            gap: 16px;
            margin-top: 32px;
            border-bottom: 2px solid #dee2e6;
        }

        .transport-tab a {
            padding: 10px 20px;
            color: #555;
            font-weight: 600;
            text-decoration: none;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease-in-out;
        }

        .transport-tab a.active,
        .transport-tab a:hover {
            color: #c62828;
            border-bottom: 2px solid #c62828;
        }

        /* 안내 섹션 공통 */
        .transport-section {
            margin-top: 32px;
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        }

        /* 지하철 라인 표시 박스 */
        .subway-lines {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 20px;
        }

        .subway-line {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            background-color: #f1f3f5;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 500;
            color: #333;
        }

        .subway-line::before {
            content: '';
            display: inline-block;
            width: 14px;
            height: 14px;
            margin-right: 8px;
            border-radius: 50%;
            background-color: currentColor;
        }

        .line-1 {
            color: #0d3692;
        }

        /* 남색 */
        .line-2 {
            color: #33a23d;
        }

        /* 초록 */
        .line-7 {
            color: #747f00;
        }

        /* 카키 */
        .line-9 {
            color: #aa9872;
        }

        /* 연갈색 */
        .line-s {
            color: #1c1c1c;
        }

        /* 신림선 (회색) */
        /* 지하철 안내 테이블 */
        .subway-table {
            margin-top: 16px;
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            background-color: #fff;
        }

        .subway-table th,
        .subway-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }

        .subway-table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }

        .notice-text {
            font-size: 13px;
            color: #666;
            margin-top: 10px;
        }


    </style>
</head>
<body>
<div th:replace="fragments/header :: header"></div>
<div class="container">
    <h1 class="text-center fw-bold" th:text="#{location.title}">찾아오시는 길</h1>
    <div id="map"></div>

    <div class="info-box">
        <h2><strong th:text="#{location.address}">서울특별시 구로구 디지털로 306 대륭포스트타워 2차 203호</strong></h2>
        <div class="highlight">
            <strong th:text="#{location.reservation}">진료예약</strong> : 1577-1577
        </div>
        <div class="highlight">
            <strong th:text="#{location.hospital_info}">병원안내</strong> : 02-838-1680
        </div>

        <div class="info-links">
            <a href="/doctors/Search" th:text="#{location.link.departments}">진료과안내</a>
            <a href="/guide/parking" th:text="#{location.link.parking}">주차안내</a>
            <a href="https://kko.kakao.com/XObQZGQmfh" target="_blank"
               th:text="#{location.link.kakao}">카카오맵 길찾기 (새창열기)</a>
            <a href="https://naver.me/FafWy10G" target="_blank"
               th:text="#{location.link.naver}">네이버지도 길찾기 (새창열기)</a>
        </div>
    </div>

    <div class="transport-tab">
        <a href="#" class="active" data-tab="subway"
           th:text="#{transport.tab.subway}">지하철 이용 시</a>
        <a href="#" data-tab="bus"
           th:text="#{transport.tab.bus}">버스 이용 시</a>
    </div>

    <div class="transport-section" id="tab-subway">
        <div class="subway-lines">
            <div class="subway-line line-1" th:text="#{transport.subway.line1}">1호선 가산디지털단지역</div>
            <div class="subway-line line-2" th:text="#{transport.subway.line2}">2호선 구로디지털단지역</div>
            <div class="subway-line line-7" th:text="#{transport.subway.line7}">7호선 대림역역</div>
        </div>

        <table class="subway-table">
            <thead>
            <tr>
                <th th:text="#{transport.table.header.type}">구분</th>
                <th th:text="#{transport.table.header.weekday}">평일</th>
                <th th:text="#{transport.table.header.saturday}">토요일</th>
                <th th:text="#{transport.table.header.holiday}">일/공휴일</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td th:text="#{transport.table.row.operation_time}">운영시간</td>
                <td th:text="#{transport.table.weekday_time}">오전 7시 ~ 오후 8시</td>
                <td th:text="#{transport.table.saturday_time}">오전 7시 ~ 오후 2시</td>
                <td th:text="#{transport.table.holiday_unavailable}">이용 불가</td>
            </tr>
            </tbody>
        </table>

        <p class="notice-text" th:text="#{transport.notice}">
            ※ 이용 불가 시 1번 출구 이용 바랍니다.
        </p>
    </div>
    <div class="transport-section" id="tab-bus" style="display:none;">
        <h4 th:text="#{transport.bus.title}">주변 버스 정류장</h4>
        <ul>
            <li th:text="#{transport.bus.stop1}">디지털단지오거리 정류장 (간선 503, 지선 5536 등)</li>
            <li th:text="#{transport.bus.stop2}">대륭포스트타워2차 정류장 (간선 652, 지선 5012 등)</li>
        </ul>
        <p th:text="#{transport.bus.notice}">
            ※ 버스 노선은 변동될 수 있으니 탑승 전 확인 바랍니다.
        </p>
    </div>
</div>

<div th:replace="fragments/footer :: footer"></div>
<script>
    kakao.maps.load(function () {
        var mapContainer = document.getElementById('map');
        var mapOption = {
            center: new kakao.maps.LatLng(37.485912, 126.897336),
            level: 3
        };

        var map = new kakao.maps.Map(mapContainer, mapOption);

        var markerPosition = new kakao.maps.LatLng(37.485914, 126.897691);
        var marker = new kakao.maps.Marker({ position: markerPosition });
        marker.setMap(map);
    });
    //탭 전환 스크립트
    document.addEventListener('DOMContentLoaded', () => {
        const tabs = document.querySelectorAll('.transport-tab a');
        const sections = {
            subway: document.getElementById('tab-subway'),
            bus: document.getElementById('tab-bus')
        };

        tabs.forEach(tab => {
            tab.addEventListener('click', e => {
                e.preventDefault();

                // active 클래스 토글
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // data-tab 값 읽어서 섹션 보이기/숨기기
                const target = tab.dataset.tab;
                for (const key in sections) {
                    sections[key].style.display = (key === target) ? '' : 'none';
                }
            });
        });
    });
</script>

</body>
</html>